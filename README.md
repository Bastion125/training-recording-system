# Training Recording System - CRM —Å–∏—Å—Ç–µ–º–∞ –∑ –ë–∞–∑–æ—é –∑–Ω–∞–Ω—å

–°—É—á–∞—Å–Ω–∞ –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è, –ë–∞–∑–∏ –∑–Ω–∞–Ω—å —Ç–∞ –æ–±–ª—ñ–∫—É –Ω–∞–≤—á–µ–Ω–æ—Å—Ç—ñ –æ—Å–æ–±–æ–≤–æ–≥–æ —Å–∫–ª–∞–¥—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É –ë–ü–°.

**–†–æ–∑—Ä–æ–±–∫–∞ –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º TDD (Test-Driven Development)**

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –æ—Å–æ–±–æ–≤–∏–º —Å–∫–ª–∞–¥–æ–º
- ‚úÖ –ü—Ä–∏–≤'—è–∑–∫–∞ –¥–æ user-–∞–∫–∞—É–Ω—Ç—É
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–≥—ñ–Ω—É/–ø–∞—Ä–æ–ª—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- ‚úÖ –ü—Ä–∏–≤'—è–∑–∫–∞ –¥–æ –µ–∫—ñ–ø–∞–∂—ñ–≤

### –ë–∞–∑–∞ –∑–Ω–∞–Ω—å / –ù–∞–≤—á–∞–Ω–Ω—è
- ‚úÖ –Ü—î—Ä–∞—Ä—Ö—ñ—è –Ω–∞–≤—á–∞–Ω–Ω—è: –ö—É—Ä—Å–∏ ‚Üí –ú–æ–¥—É–ª—ñ ‚Üí –£—Ä–æ–∫–∏
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π

### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å
- –•—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏–≤ –∫—É—Ä—Å
- –ö–æ–ª–∏ –ø–æ—á–∞–≤ / –∫–æ–ª–∏ –∑–∞–≤–µ—Ä—à–∏–≤
- –°–∫—ñ–ª—å–∫–∏ —á–∞—Å—É –ø—Ä–æ–≤—ñ–≤ —É –∫—É—Ä—Å—ñ
- –Ø–∫—ñ –∫—É—Ä—Å–∏ –ø—Ä–æ–π–¥–µ–Ω—ñ, —è–∫—ñ ‚Äî –Ω—ñ

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
training-recording-system/
 ‚îú‚îÄ‚îÄ backend/              # Backend API
 ‚îÇ   ‚îú‚îÄ‚îÄ src/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/       # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (Prisma)
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/  # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/   # Middleware (auth)
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes/       # –ú–∞—Ä—à—Ä—É—Ç–∏
 ‚îÇ   ‚îú‚îÄ‚îÄ prisma/           # Prisma —Å—Ö–µ–º–∞ —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó
 ‚îÇ   ‚îú‚îÄ‚îÄ tests/            # –¢–µ—Å—Ç–∏ (Jest + Supertest)
 ‚îÇ   ‚îî‚îÄ‚îÄ package.json
 ‚îú‚îÄ‚îÄ frontend/             # Frontend (—ñ—Å–Ω—É—é—á–∏–π)
 ‚îÇ   ‚îú‚îÄ‚îÄ app/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scripts/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html
 ‚îú‚îÄ‚îÄ .gitignore
 ‚îî‚îÄ‚îÄ README.md
```

## üìã –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Backend
- **Node.js** 18+
- **Express.js** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Prisma** - ORM –¥–ª—è PostgreSQL
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (Supabase/Railway)
- **JWT** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- **Jest** + **Supertest** - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### Frontend
- Vanilla JavaScript, HTML5, CSS3
- –Ü—Å–Ω—É—é—á–∏–π –∫–æ–¥ (–Ω–µ –ª–∞–º–∞—î–º–æ API)

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
git clone https://github.com/Bastion125/training-recording-system.git
cd training-recording-system/backend
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

#### –õ–æ–∫–∞–ª—å–Ω–æ (PostgreSQL)

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å PostgreSQL (Docker):

```bash
docker run -d --name training_recording_postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=training_recording \
  -p 5434:5432 \
  postgres:16
```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:
```bash
cp .env.example .env
```

3. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:
```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5434/training_recording?schema=public"
DIRECT_URL="postgresql://postgres:postgres@localhost:5434/training_recording?schema=public"
JWT_SECRET=your-secret-key
PORT=3000
NODE_ENV=development
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
```

**–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ:** –î–∏–≤. `backend/.env.example`

#### Railway (Production)

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ [Railway](https://railway.app)
2. –î–æ–¥–∞–π—Ç–µ PostgreSQL —Å–µ—Ä–≤—ñ—Å (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Supabase —è–∫ –∑–æ–≤–Ω—ñ—à–Ω—é –ë–î)
3. –°–∫–æ–ø—ñ—é–π—Ç–µ `DATABASE_URL` (—ñ –∑–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ `DIRECT_URL`)
4. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤ Railway:
   - `DATABASE_URL`
   - `DIRECT_URL` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - `JWT_SECRET` (—Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –∫–ª—é—á)
   - `NODE_ENV=production`
   - `PORT` (Railway –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

### 3. –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Prisma Client
npm run prisma:generate

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
npm run prisma:migrate

# –ê–±–æ –¥–ª—è production
npm run prisma:deploy
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

#### Development
```bash
npm run dev
```

#### Production
```bash
npm start
```

### 5. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
npm test

# –ó –ø–æ–∫—Ä–∏—Ç—Ç—è–º
npm test -- --coverage

# Watch mode
npm run test:watch

# CI mode
npm run test:ci
```

## üß™ Test-Driven Development (TDD)

–ü—Ä–æ—î–∫—Ç —Ä–æ–∑—Ä–æ–±–ª—è—î—Ç—å—Å—è –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º TDD:

1. **RED** - –ø–∏—à–µ–º–æ —Ç–µ—Å—Ç, —è–∫–∏–π –ø–∞–¥–∞—î
2. **GREEN** - –ø–∏—à–µ–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∫–æ–¥, —â–æ–± —Ç–µ—Å—Ç –ø—Ä–æ–π—à–æ–≤
3. **REFACTOR** - –ø–æ–∫—Ä–∞—â—É—î–º–æ –∫–æ–¥

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

```
backend/tests/
 ‚îú‚îÄ‚îÄ personnel.test.js    # –¢–µ—Å—Ç–∏ –¥–ª—è CRUD personnel
 ‚îú‚îÄ‚îÄ courses.test.js      # –¢–µ—Å—Ç–∏ –¥–ª—è –∫—É—Ä—Å—ñ–≤ (–ø–æ—Ä—è–¥–æ–∫, –¥–æ—Å—Ç—É–ø)
 ‚îî‚îÄ‚îÄ auth.test.js         # –¢–µ—Å—Ç–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
```

### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤

```bash
# –¢–µ—Å—Ç–∏ –¥–ª—è personnel
npm test -- personnel.test.js

# –¢–µ—Å—Ç–∏ –¥–ª—è –∫—É—Ä—Å—ñ–≤
npm test -- courses.test.js

# –¢–µ—Å—Ç–∏ –¥–ª—è auth
npm test -- auth.test.js
```

## üì° API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- `POST /api/auth/login` - –í—Ö—ñ–¥
- `POST /api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
- `GET /api/auth/profile` - –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥
- `GET /api/personnel` - –°–ø–∏—Å–æ–∫ –æ—Å–æ–±–æ–≤–æ–≥–æ —Å–∫–ª–∞–¥—É
- `GET /api/personnel/:id` - –û–¥–∏–Ω –∑–∞–ø–∏—Å
- `POST /api/personnel` - –°—Ç–≤–æ—Ä–∏—Ç–∏ (Admin/SystemAdmin)
- `PUT /api/personnel/:id` - –û–Ω–æ–≤–∏—Ç–∏ (Admin/SystemAdmin)
- `DELETE /api/personnel/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ (Admin/SystemAdmin)
- `POST /api/personnel/:id/create-account` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç (Admin/SystemAdmin)

### –ö—É—Ä—Å–∏
- `GET /api/courses` - –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å—ñ–≤ (–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –ø–æ—Ä—è–¥–∫–æ–º)
- `GET /api/courses/:id` - –û–¥–∏–Ω –∫—É—Ä—Å –∑ –º–æ–¥—É–ª—è–º–∏
- `POST /api/courses` - –°—Ç–≤–æ—Ä–∏—Ç–∏ (Admin/SystemAdmin/Readit)
- `PUT /api/courses/:id` - –û–Ω–æ–≤–∏—Ç–∏ (Admin/SystemAdmin/Readit)

## üîê –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

- **SystemAdmin** - –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- **Admin** - –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø
- **Readit** - –Ü–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫—É—Ä—Å–∏)
- **User** - –ó–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (—Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥)

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ

- `roles` - –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `users` - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∏—Å—Ç–µ–º–∏
- `personnel` - –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥
- `crews` - –ï–∫—ñ–ø–∞–∂—ñ
- `courses` - –ö—É—Ä—Å–∏
- `course_modules` - –ú–æ–¥—É–ª—ñ –∫—É—Ä—Å—ñ–≤
- `lessons` - –£—Ä–æ–∫–∏
- `course_assignments` - –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤

### –ó–≤'—è–∑–∫–∏

- `users` ‚Üî `personnel` = 1-to-1
- `personnel` ‚Üî `crews` = many-to-1
- `personnel` ‚Üî `courses` = many-to-many (—á–µ—Ä–µ–∑ `course_assignments`)

## üóÑÔ∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è

**–Ü—Å–Ω—É—é—á—ñ –º–µ—Ç–æ–¥–∏ –ë–î:**
1. **PostgreSQL —á–µ—Ä–µ–∑ Prisma** (backend) - Supabase/Railway production
2. **SQLite —á–µ—Ä–µ–∑ SQL.js** (frontend) - –ª–æ–∫–∞–ª—å–Ω–∞ –ë–î –≤ –±—Ä–∞—É–∑–µ—Ä—ñ (IndexedDB/localStorage)

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–∫–∞–ª—å–Ω–∞ SQLite –≤–∏–¥–∏–º–∞ —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ, –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –ë–î –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

#### 1. **Supabase (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)** ‚≠ê

- PostgreSQL –≤ —Ö–º–∞—Ä—ñ –∑ REST API
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
- Real-time –ø—ñ–¥–ø–∏—Å–∫–∏
- **–ü–µ—Ä–µ–≤–∞–≥–∏:** –®–≤–∏–¥–∫–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è, –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ [Supabase](https://supabase.com)
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ `SUPABASE_URL` —Ç–∞ `SUPABASE_ANON_KEY`
3. –û–Ω–æ–≤—ñ—Ç—å `frontend/app/scripts/api.js` –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ Supabase
4. –î–æ–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ `backend/src/config/database.js`

#### 2. **Firebase Firestore**

- NoSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- Real-time —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier
- **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ü—Ä–æ—Å—Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è, real-time

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ [Firebase Console](https://console.firebase.google.com)
2. –î–æ–¥–∞–π—Ç–µ Firebase SDK –≤ frontend
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Firestore rules –¥–ª—è –±–µ–∑–ø–µ–∫–∏

#### 3. **PostgreSQL –Ω–∞ Railway/Vercel**

- PostgreSQL —è–∫ –∫–µ—Ä–æ–≤–∞–Ω–∞ –ë–î (Railway/Vercel/Supabase)
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏, –∑–Ω–∞–π–æ–º–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ú—ñ–≥—Ä–∞—Ü—ñ—è:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å PostgreSQL service –Ω–∞ Railway
2. –û–Ω–æ–≤—ñ—Ç—å `DATABASE_URL` –≤ Prisma schema
3. –Ø–∫—â–æ —É –≤–∞—Å –±—É–ª–∞ MySQL ‚Äî –≤–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö —É PostgreSQL (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

#### 4. **Shared SQLite —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä**

- SQLite —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ API
- **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ü—Ä–æ—Å—Ç–æ—Ç–∞, –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
1. –†–æ–∑–º—ñ—Å—Ç—ñ—Ç—å SQLite —Ñ–∞–π–ª –Ω–∞ backend —Å–µ—Ä–≤–µ—Ä—ñ
2. –°—Ç–≤–æ—Ä—ñ—Ç—å API endpoints –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ë–î
3. –û–Ω–æ–≤—ñ—Ç—å frontend –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API –∑–∞–º—ñ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ—ó –ë–î

#### 5. **MongoDB Atlas**

- NoSQL –≤ —Ö–º–∞—Ä—ñ
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier
- **–ü–µ—Ä–µ–≤–∞–≥–∏:** –ì–Ω—É—á–∫—ñ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ connection string
3. –ó–∞–º—ñ–Ω—ñ—Ç—å Prisma –Ω–∞ Mongoose –∞–±–æ —ñ–Ω—à–∏–π MongoDB ORM

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

–î–ª—è —à–≤–∏–¥–∫–æ—ó —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó —Ç–∞ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è **Supabase**:
- –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier –¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –¥–ª—è –ø–æ—á–∞—Ç–∫—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- Real-time –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –ø–æ–∫—Ä–∞—â–µ–Ω—å

## üö¢ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ Railway**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Railway Dashboard](https://railway.com/dashboard)
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ—î–∫—Ç –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π

2. **–î–æ–¥–∞–π—Ç–µ PostgreSQL Database (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Supabase)**
   - New ‚Üí Database ‚Üí PostgreSQL
   - –°–∫–æ–ø—ñ—é–π—Ç–µ `DATABASE_URL` (—Ç–∞ `DIRECT_URL`, —è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–æ)

3. **–î–æ–¥–∞–π—Ç–µ Backend Service**
   - New ‚Üí GitHub Repo ‚Üí `Bastion125/training-recording-system`
   - Settings ‚Üí Root Directory: `backend`

4. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ Environment Variables**
   - `DATABASE_URL`
   - `DIRECT_URL` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - `JWT_SECRET` (–Ω–∞–¥—ñ–π–Ω–∏–π –∫–ª—é—á –º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏)
   - `NODE_ENV=production`
   - `CORS_ORIGIN=https://bastion125.github.io`

5. **–î–µ–ø–ª–æ–π**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π
   - –û—Ç—Ä–∏–º–∞–π—Ç–µ Railway URL –∑ Settings ‚Üí Networking

6. **–°—Ç–≤–æ—Ä—ñ—Ç—å –∞–¥–º—ñ–Ω –∞–∫–∞—É–Ω—Ç**
   - Connect ‚Üí Open Shell ‚Üí `npm run prisma:seed`
   - –û–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ: `admin@test.local` / `Admin123!`

7. **–û–Ω–æ–≤—ñ—Ç—å Frontend**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ `frontend/app/scripts/api.js`
   - –ó–∞–º—ñ–Ω—ñ—Ç—å `REPLACE_WITH_RAILWAY_HOST` –Ω–∞ –≤–∞—à Railway URL

### –î–µ—Ç–∞–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Environment Variables

#### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°–∫–æ–ø—ñ—é–π—Ç–µ —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ Railway Dashboard ‚Üí Backend Service ‚Üí Variables:

**1. DATABASE_URL**
```
postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
```
‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `DATABASE_URL` (PostgreSQL).

**1.1 DIRECT_URL (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**
```
postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
```

**2. JWT_SECRET**
–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –∫–ª—é—á–∞:
```bash
openssl rand -base64 32
```
–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏ (–ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤ production!)

**3. NODE_ENV**
```
production
```

**4. CORS_ORIGIN**
```
https://bastion125.github.io/training-recording-system/
```
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏):
```
https://bastion125.github.io/training-recording-system/,http://localhost:8080,http://localhost:3000
```

### –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é

#### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏–π—Ç–µ Railway Dashboard
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://railway.com/
2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç
3. –í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –∑ –≤–∞—à–∏–º Backend Service

#### –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ Environment Variables
1. Railway Dashboard ‚Üí Backend Service ‚Üí Variables
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Variable"** –¥–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–Ω–æ—ó
3. –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ 4 –∑–º—ñ–Ω–Ω—ñ (DATABASE_URL, JWT_SECRET, NODE_ENV, CORS_ORIGIN)

#### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:
   - **Root Directory** = `backend`
   - **Start Command** = `npm start` (–∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π)
2. Settings ‚Üí Networking ‚Üí –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –¥–æ–º–µ–Ω –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ

#### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å
1. Settings ‚Üí **Redeploy** –∞–±–æ **Restart**
2. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–µ–ø–ª–æ—é (1-2 —Ö–≤–∏–ª–∏–Ω–∏)

#### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Railway URL: `https://your-service.up.railway.app/api/health`
2. –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è:
   ```json
   {
     "success": true,
     "message": "Server is running",
     "timestamp": "..."
   }
   ```

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ CORS 404

#### –ü—Ä–æ–±–ª–µ–º–∞: "Preflight response is not successful. Status code: 404"

**–ü—Ä–∏—á–∏–Ω–∏:**
1. Railway —Å–µ—Ä–≤—ñ—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL
3. CORS –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ Environment Variables

**–†—ñ—à–µ–Ω–Ω—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Railway Service**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Deployments
   - –û—Å—Ç–∞–Ω–Ω—ñ–π deployment –º–∞—î –±—É—Ç–∏ —É—Å–ø—ñ—à–Ω–∏–º (–∑–µ–ª–µ–Ω–∞ –≥–∞–ª–æ—á–∫–∞)
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ URL**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Settings ‚Üí Networking
   - –°–∫–æ–ø—ñ—é–π—Ç–µ **Public Domain**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: `https://your-service.up.railway.app/api/health`

3. **–û–Ω–æ–≤—ñ—Ç—å Environment Variables**
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `DATABASE_URL` (–Ω–µ `MYSQL_PUBLIC_URL`)
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `CORS_ORIGIN` - –º–∞—î —Ç–æ—á–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ URL –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Railway service

4. **–û–Ω–æ–≤—ñ—Ç—å Frontend API URL**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ `frontend/app/scripts/api.js`
   - –ó–Ω–∞–π–¥—ñ—Ç—å `RAILWAY_API_URL` —Ç–∞ –æ–Ω–æ–≤—ñ—Ç—å –Ω–∞ –≤–∞—à —Ñ–∞–∫—Ç–∏—á–Ω–∏–π Railway URL

### Troubleshooting

#### –ü–æ–º–∏–ª–∫–∞: "Not Found - The train has not arrived at the station"

**–ö—Ä–æ–∫–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Root Directory**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Settings
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ **Root Directory** = `backend`

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Start Command**
   - –ú–∞—î –±—É—Ç–∏: `npm start` –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Deployments
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –æ—Å—Ç–∞–Ω–Ω—ñ–π deployment
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

**–¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏:**
- `Error: Cannot find module` - –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- `Error: connect ECONNREFUSED` - –ø—Ä–æ–±–ª–µ–º–∞ –∑ DATABASE_URL
- `Port already in use` - –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –ø–æ—Ä—Ç—ñ–≤

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Build Logs**
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `npm install` –≤–∏–∫–æ–Ω–∞–≤—Å—è —É—Å–ø—ñ—à–Ω–æ
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `prisma generate` –≤–∏–∫–æ–Ω–∞–≤—Å—è —É—Å–ø—ñ—à–Ω–æ

5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤—Ä—É—á–Ω—É**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Connect ‚Üí Open Shell
   ```bash
   npm run prisma:deploy
   npm run prisma:seed
   ```

6. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Networking**
   - Railway Dashboard ‚Üí Backend Service ‚Üí Settings ‚Üí Networking
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Generate Domain" —è–∫—â–æ –¥–æ–º–µ–Ω—É –Ω–µ–º–∞—î

#### –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

**–ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module '@prisma/client'"**
- –†—ñ—à–µ–Ω–Ω—è: Railway Shell ‚Üí `npm run prisma:generate`

**–ü—Ä–æ–±–ª–µ–º–∞: "Error: connect ECONNREFUSED"**
- –†—ñ—à–µ–Ω–Ω—è: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DATABASE_URL, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ PostgreSQL service –∑–∞–ø—É—â–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞: "Port 3000 already in use"**
- –†—ñ—à–µ–Ω–Ω—è: Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î PORT, –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ –≤—Ä—É—á–Ω—É

**–ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î**
- –†—ñ—à–µ–Ω–Ω—è: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ server.js —Å–ª—É—Ö–∞—î –Ω–∞ `0.0.0.0` (–Ω–µ `localhost`)

### –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–ù–ï –∫–æ–º—ñ—Ç—å—Ç–µ JWT_SECRET –≤ git!**
- JWT_SECRET –º–∞—î –±—É—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤ Railway Environment Variables
- –ù–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ `.env` —Ñ–∞–π–ª–∏ –≤ git
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ JWT_SECRET –¥–ª—è development —Ç–∞ production

### –ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó:
   ```bash
   Railway Shell ‚Üí npm run prisma:deploy
   Railway Shell ‚Üí npm run prisma:seed
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–º—ñ–Ω–∞:
   - Email: `admin@test.local`
   - Password: `Admin123!`

3. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –≤—Ö—ñ–¥ –Ω–∞ https://bastion125.github.io/training-recording-system/

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npm test

# CI/CD (GitHub Actions)
npm run test:ci
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—å–æ–≥–æ —Å–∞–π—Ç—É (manual)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- [ ] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è: –≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ ‚Üí —É—Å–ø—ñ—Ö, —Ç–æ–∫–µ–Ω –∑–±–µ—Ä–µ–∂–µ–Ω–æ, –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –æ—Å–Ω–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è: –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ (–ø–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è/–∫–æ—Ä–æ—Ç–∫–∏–π –ø–∞—Ä–æ–ª—å/–Ω–µ email) ‚Üí –∫–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ–º–∏–ª–∫–∏
- [ ] –í—Ö—ñ–¥: –≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ ‚Üí —É—Å–ø—ñ—Ö
- [ ] –í—Ö—ñ–¥: –Ω–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å/email ‚Üí 401 + –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- [ ] –í–∏—Ö—ñ–¥ ‚Üí —Ç–æ–∫–µ–Ω –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è, –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ –µ–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- [ ] –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ ‚Üí —Å–µ—Å—ñ—è –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è (—è–∫—â–æ —Ç–æ–∫–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π)

### –ë–∞–∑–∞ –∑–Ω–∞–Ω—å
- [ ] –°–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫ ‚Äú–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ / –ü—Ä–∞–∫—Ç–∏–∫–∞‚Äù –ø—Ä–∞—Ü—é—î
- [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É (text/pdf/video) –ø—Ä–∞—Ü—é—î; –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑‚Äô—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É
- [ ] –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É:
  - [ ] text ‚Üí –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
  - [ ] pdf ‚Üí viewer/–Ω–æ–≤–µ –≤—ñ–∫–Ω–æ
  - [ ] video ‚Üí –≤—ñ–¥–µ–æ –ø–ª–µ—î—Ä

### –ö—É—Ä—Å–∏
- [ ] –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∏–¥—É (list/grid) –ø—Ä–∞—Ü—é—î
- [ ] –ü–æ—Ä—è–¥–æ–∫ –∫—É—Ä—Å—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î `order_index`
- [ ] –ö—É—Ä—Å –∑ `requires_previous_course_id` –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ (–ª–æ–≥—ñ–∫–∞ –¥–æ—Å—Ç—É–ø—É –Ω–µ –ª–∞–º–∞—î UI)
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É (–¥–ª—è —Ä–æ–ª–µ–π Readit/Admin/SystemAdmin) –ø—Ä–∞—Ü—é—î

### –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥
- [ ] CRUD: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î (Admin/SystemAdmin)
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –ø—Ä–∞—Ü—é—î
- [ ] –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å service_number (–®–ü–ö) –ø—Ä–∞—Ü—é—î
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É –¥–ª—è personnel –ø—Ä–∞—Ü—é—î; login —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π
- [ ] –§—ñ–ª—å—Ç—Ä–∏ (–ø—ñ–¥—Ä–æ–∑–¥—ñ–ª/—Ç–∏–ø/–∫—É—Ä—Å/–¥–æ–ø—É—Å–∫/—Ä—ñ–≤–µ–Ω—å) –Ω–µ –ø–∞–¥–∞—é—Ç—å —ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –æ—á—ñ–∫—É–≤–∞–Ω–µ

### –ï–∫—ñ–ø–∞–∂—ñ
- [ ] CRUD –µ–∫—ñ–ø–∞–∂—ñ–≤ –ø—Ä–∞—Ü—é—î
- [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–ª–µ–Ω—ñ–≤ –µ–∫—ñ–ø–∞–∂—É –ø—Ä–∞—Ü—é—î

### –ó–∞—Å–æ–±–∏
- [ ] CRUD –∑–∞—Å–æ–±—ñ–≤ –ø—Ä–∞—Ü—é—î
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î (preview + –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è)

### –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è
- [ ] –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —ñ –Ω–µ –ø–∞–¥–∞—î
- [ ] –ó–º—ñ–Ω–∞ —Ä–æ–ª–µ–π/–ø–∞—Ä–æ–ª—è –ø—Ä–∞—Ü—é—î (–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ)

### –¢–µ—Ö–Ω—ñ—á–Ω–µ (API/DB)
- [ ] `GET /api/health` –ø–æ–≤–µ—Ä—Ç–∞—î 200
- [ ] CORS –¥–æ–∑–≤–æ–ª—è—î frontend origin
- [ ] –ù–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î —É –ª–æ–≥–∞—Ö

## üìù –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ
- `DATABASE_URL` - URL –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Supabase/Railway)
  - –§–æ—Ä–º–∞—Ç: `postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public`
  - –ü—Ä–∏–∫–ª–∞–¥: `postgresql://postgres:postgres@localhost:5434/training_recording?schema=public`
- `DIRECT_URL` - –ø—Ä—è–º–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è Supabase/connection pooling)
  - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
  - –ú–æ–∂–µ –±—É—Ç–∏ —Ç–∞–∫–∏–º —Å–∞–º–∏–º —è–∫ `DATABASE_URL` –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤
- `JWT_SECRET` - –°–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è JWT (–º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏)

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
- `PORT` - –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 3000)
- `NODE_ENV` - –û—Ç–æ—á–µ–Ω–Ω—è (development/production)
- `CORS_ORIGIN` - –î–æ–∑–≤–æ–ª–µ–Ω—ñ origin –¥–ª—è CORS

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –º—ñ–≥—Ä–∞—Ü—ñ—ó

```bash
npm run prisma:migrate
# –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –º—ñ–≥—Ä–∞—Ü—ñ—ó
```

### –ü–µ—Ä–µ–≥–ª—è–¥ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
npm run prisma:studio
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç—É

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `tests/feature.test.js`
2. –ù–∞–ø–∏—à—ñ—Ç—å —Ç–µ—Å—Ç–∏ (RED —Ñ–∞–∑–∞)
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏: `npm test -- feature.test.js`
4. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –∫–æ–¥ (GREEN —Ñ–∞–∑–∞)
5. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ (Definition of Done)

- ‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- ‚úÖ PostgreSQL (Supabase/Railway) –ø—Ä–∞—Ü—é—î
- ‚úÖ GitHub –ø—Ä–æ—î–∫—Ç —á–∏—Å—Ç–∏–π (–±–µ–∑ build-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤, node_modules, .env)
- ‚úÖ –û—Å–æ–±–æ–≤–∏–π —Å–∫–ª–∞–¥ –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ UI + API
- ‚úÖ –ö—É—Ä—Å–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫)
- ‚úÖ –ù–µ–º–∞—î hardcode / secrets
- ‚úÖ README –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–∏—Å—Ç–µ–º–∏.

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ ¬© 2024
