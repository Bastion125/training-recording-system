# –ó–≤—ñ—Ç –ø—Ä–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–î–∞—Ç–∞:** $(date)  
**–ü—Ä–æ—î–∫—Ç:** Training Recording System Backend  
**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** Railway PostgreSQL

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚úÖ `DATABASE_URL` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ: `postgresql://postgres:ASdeOUBlKPAvzYodpKVWVkIRbXzUghBI@postgres.railway.internal:5432/railway`
- ‚úÖ `DIRECT_URL` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ (–∫–æ–ø—ñ—è `DATABASE_URL` –¥–ª—è Prisma –º—ñ–≥—Ä–∞—Ü—ñ–π)
- ‚úÖ Prisma Client –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ Prisma —Å—Ö–µ–º–∞ –≤–∞–ª—ñ–¥–æ–≤–∞–Ω–∞

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
- ‚úÖ –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ
- ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ (2 –º—ñ–≥—Ä–∞—Ü—ñ—ó –∑–Ω–∞–π–¥–µ–Ω–æ)
- ‚úÖ Railway –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (`railway.json`) –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞
- ‚úÖ Health check endpoints –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å `server.js` –≤–∞–ª—ñ–¥–Ω–∏–π
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å—ñ—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ –≤–∞–ª—ñ–¥–Ω–∏–π
- ‚úÖ –í—Å—ñ –º–æ–¥—É–ª—ñ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è (19 –º–æ–¥—É–ª—ñ–≤)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ middleware –ø—Ä–∞—Ü—é—é—Ç—å

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```
‚úÖ DATABASE_URL –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
‚úÖ DIRECT_URL –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
‚úÖ JWT_SECRET –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
‚úÖ –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ
‚úÖ 2 –º—ñ–≥—Ä–∞—Ü—ñ—ó –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–∞ –≤–∞–ª—ñ–¥–æ–≤–∞–Ω–æ
‚úÖ Railway startCommand –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –∑ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–º–ø–æ—Ä—Ç—ñ–≤
```
‚úÖ server.js - —É—Å–ø—ñ—à–Ω–æ
‚úÖ database.js (Prisma Client) - —É—Å–ø—ñ—à–Ω–æ
‚úÖ 6 –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ–≤ - —É—Å–ø—ñ—à–Ω–æ
‚úÖ 8 –º–∞—Ä—à—Ä—É—Ç—ñ–≤ - —É—Å–ø—ñ—à–Ω–æ
‚úÖ 3 middleware - —É—Å–ø—ñ—à–Ω–æ
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É
```
‚úÖ server.js - –≤–∞–ª—ñ–¥–Ω–∏–π
‚úÖ auth.test.js - –≤–∞–ª—ñ–¥–Ω–∏–π
‚úÖ courses.test.js - –≤–∞–ª—ñ–¥–Ω–∏–π
‚úÖ personnel.test.js - –≤–∞–ª—ñ–¥–Ω–∏–π
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- `postgres.railway.internal` - —Ü–µ internal Railway hostname
- **–ù–µ –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ** - –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –∑—Å–µ—Ä–µ–¥–∏–Ω–∏ Railway –º–µ—Ä–µ–∂—ñ
- –¶–µ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ** - –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥ —á–∞—Å –¥–µ–ø–ª–æ—é

### –ú—ñ–≥—Ä–∞—Ü—ñ—ó
- –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ `railway.json`
- –ö–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—é: `npm run prisma:deploy && npm start`
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤—Ä—É—á–Ω—É –ª–æ–∫–∞–ª—å–Ω–æ

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–î–µ–ø–ª–æ–π –Ω–∞ Railway**
   - –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
   - –í–∏–±–µ—Ä—ñ—Ç—å –ø–∞–ø–∫—É `backend` —è–∫ root
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω–∞—î –º—ñ–≥—Ä–∞—Ü—ñ—ó

2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é**
   - Health check: `https://–í–ê–®_DOMAIN.up.railway.app/health`
   - DB health check: `https://–í–ê–®_DOMAIN.up.railway.app/api/health/db`

3. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤**
   - –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
   - –ö–æ–º–∞–Ω–¥–∞: `npm test`

## üìù –°—Ç–≤–æ—Ä–µ–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

1. `scripts/test-db-config.js` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ë–î
2. `scripts/validate-setup.js` - –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
3. `scripts/test-imports.js` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–º–ø–æ—Ä—Ç—ñ–≤ –º–æ–¥—É–ª—ñ–≤

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

–í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ. –ü—Ä–æ—î–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–ø–ª–æ—é –Ω–∞ Railway. –ú—ñ–≥—Ä–∞—Ü—ñ—ó —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –±—É–¥—É—Ç—å –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥ —á–∞—Å –¥–µ–ø–ª–æ—é.
