# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub –Ω–∞ Railway

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- ‚úÖ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: `https://github.com/Bastion125/training-recording-system.git`
- ‚úÖ Railway –ø—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ: `protective-integrity`
- ‚úÖ Railway —Å–µ—Ä–≤—ñ—Å: `training-recording-system`

## üöÄ –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥—É

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–º—ñ–Ω–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ —Ç–∞ –∑–∞–ø—É—à–µ–Ω—ñ –≤ GitHub:

```bash
cd "/Users/a11/Desktop/–°–∞–π—Ç/–ù–∞–≤—á–∞–Ω–Ω—è –ê–ª—å—Ñ–∞ 1.1/–¢–ï–°–¢ 2_1/github"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
git status

# –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–º—ñ–Ω
git add .

# –ö–æ–º—ñ—Ç –∑–º—ñ–Ω
git commit -m "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Railway PostgreSQL —Ç–∞ –¥–µ–ø–ª–æ–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è"

# Push –≤ GitHub
git push origin main
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Railway –ø—Ä–æ—î–∫—Ç—É

#### 2.1. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://railway.app
2. –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ—î–∫—Ç `protective-integrity`
4. –í–∏–±–µ—Ä—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å `training-recording-system` (–∞–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π)
5. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** (–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
6. –£ —Ä–æ–∑–¥—ñ–ª—ñ **Source** (–î–∂–µ—Ä–µ–ª–æ):
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Connect GitHub Repo**
   - –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Railway –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ GitHub (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
   - –í–∏–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: `Bastion125/training-recording-system`
   - –í–∏–±–µ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É: `main`
   - **–í–∞–∂–ª–∏–≤–æ:** –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å **Root Directory** —è–∫ `backend`
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Deploy**

#### 2.2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GitHub, –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:

1. –£ –ø—Ä–æ—î–∫—Ç—ñ Railway –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Variables** (–∞–±–æ **Settings** ‚Üí **Variables**)
2. –î–æ–¥–∞–π—Ç–µ/–æ–Ω–æ–≤—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

**–û–±–æ–≤'—è–∑–∫–æ–≤—ñ:**

```
DATABASE_URL=postgresql://postgres:ASdeOUBlKPAvzYodpKVWVkIRbXzUghBI@postgres.railway.internal:5432/railway
```

```
DIRECT_URL=postgresql://postgres:ASdeOUBlKPAvzYodpKVWVkIRbXzUghBI@postgres.railway.internal:5432/railway
```

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ:**

```
JWT_SECRET=<–∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑: openssl rand -base64 32>
```

```
NODE_ENV=production
```

```
CORS_ORIGIN=https://bastion125.github.io
```

```
PORT=3000
```

### –ö—Ä–æ–∫ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GitHub —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö:

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–Ω–µ –¥–µ–ø–ª–æ–π
2. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å –¥–µ–ø–ª–æ—é –≤ —Ä–æ–∑–¥—ñ–ª—ñ **Deployments**
3. Railway –≤–∏–∫–æ–Ω–∞—î:
   - `npm install` (–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π)
   - `prisma generate` (—á–µ—Ä–µ–∑ postinstall —Å–∫—Ä–∏–ø—Ç)
   - `npm run prisma:deploy` (–º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö)
   - `npm start` (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–µ–ø–ª–æ—é

#### 4.1. –ß–µ—Ä–µ–∑ Railway Dashboard

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Deployments**
2. –í–∏–±–µ—Ä—ñ—Ç—å –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–ø–ª–æ–π
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ **Logs** –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫
4. –°—Ç–∞—Ç—É—Å –º–∞—î –±—É—Ç–∏ **Active** (–∑–µ–ª–µ–Ω–∏–π)

#### 4.2. –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç–∏

```bash
cd backend
node scripts/test-deployment.js
```

–ê–±–æ:

```bash
./scripts/check-deployment.sh
```

#### 4.3. –í—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ curl

```bash
# –û—Å–Ω–æ–≤–Ω–∏–π health check
curl https://training-recording-system-production.up.railway.app/health

# API health check
curl https://training-recording-system-production.up.railway.app/api/health

# Database health check
curl https://training-recording-system-production.up.railway.app/api/health/db
```

### –ö—Ä–æ–∫ 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –¥–µ–ø–ª–æ—ó –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –∫–æ–∂–µ–Ω push –¥–æ –≥—ñ–ª–∫–∏ `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –Ω–æ–≤–∏–π –¥–µ–ø–ª–æ–π:

```bash
# –ü—ñ—Å–ª—è –∑–º—ñ–Ω —É –∫–æ–¥—ñ
git add .
git commit -m "–û–ø–∏—Å –∑–º—ñ–Ω"
git push origin main

# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–Ω–µ –Ω–æ–≤–∏–π –¥–µ–ø–ª–æ–π
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Root Directory

**–ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ:** Root Directory –º–∞—î –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫ `backend`

–Ø–∫—â–æ Root Directory –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. Railway Dashboard ‚Üí Settings ‚Üí Source
2. –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ–ª–µ **Root Directory**
3. –í–≤–µ–¥—ñ—Ç—å: `backend`
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

## üìù –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ railway.json

–§–∞–π–ª `backend/railway.json` –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏:

```json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "npm run prisma:deploy && npm start",
    "healthcheckPath": "/health",
    "healthcheckTimeout": 300,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ package.json

–£ `backend/package.json` –º–∞—é—Ç—å –±—É—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏:

```json
{
  "scripts": {
    "start": "node server.js",
    "postinstall": "prisma generate",
    "prisma:deploy": "prisma migrate deploy"
  }
}
```

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –î–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ Root Directory –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫ `backend`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard ‚Üí Deployments

### –ü—Ä–æ–±–ª–µ–º–∞: "Application not found" (404)

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–≤—Å—è —É—Å–ø—ñ—à–Ω–æ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å–µ—Ä–≤—ñ—Å –∞–∫—Ç–∏–≤–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞: "Database connection failed"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—É `DATABASE_URL` –≤ Railway Variables
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ PostgreSQL —Å–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–∏–π
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ - –º—ñ–≥—Ä–∞—Ü—ñ—ó –º–∞—é—Ç—å –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞: –ú—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `railway.json` - –∫–æ–º–∞–Ω–¥–∞ `prisma:deploy` –º–∞—î –±—É—Ç–∏ –≤ `startCommand`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—É `DIRECT_URL` - –≤–æ–Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—é –Ω–∞ –ø–æ–º–∏–ª–∫–∏ Prisma

## üìä –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –¥–µ–ø–ª–æ—é

### –ß–µ—Ä–µ–∑ Railway CLI

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–æ—î–∫—Ç—É
railway status

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
railway logs

# –ü–µ—Ä–µ–≥–ª—è–¥ –∑–º—ñ–Ω–Ω–∏—Ö
railway variables
```

### –ß–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. Railway Dashboard ‚Üí Deployments
2. –í–∏–±–µ—Ä—ñ—Ç—å –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–ø–ª–æ–π
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
   - –°—Ç–∞—Ç—É—Å (–º–∞—î –±—É—Ç–∏ Active)
   - –õ–æ–≥–∏ (–Ω–µ –º–∞—î –±—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫)
   - Health check (–º–∞—î –±—É—Ç–∏ —É—Å–ø—ñ—à–Ω–∏–º)

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—é —á–µ—Ä–µ–∑ GitHub

- [ ] –ö–æ–¥ –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π —Ç–∞ –∑–∞–ø—É—à–µ–Ω–∏–π –≤ GitHub
- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ Railway
- [ ] Root Directory –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫ `backend`
- [ ] –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ (DATABASE_URL, DIRECT_URL)
- [ ] –î–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω–æ —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ
- [ ] Health check `/health` –ø–æ–≤–µ—Ä—Ç–∞—î 200
- [ ] Database health check `/api/health/db` –ø–æ–≤–µ—Ä—Ç–∞—î 200
- [ ] –¢–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ

## üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- Railway Dashboard: https://railway.app
- GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/Bastion125/training-recording-system
- Railway –ø—Ä–æ—î–∫—Ç: https://railway.app/project/protective-integrity
- Health Check: https://training-recording-system-production.up.railway.app/health

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –í–∏–º–∫–Ω–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π:

1. Railway Dashboard ‚Üí Settings ‚Üí Source
2. –í–∏–º–∫–Ω—ñ—Ç—å **Auto Deploy**
3. –î–µ–ø–ª–æ–π –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ **Deploy** ‚Üí **Redeploy**

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—ñ–ª–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ—é

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–µ–ø–ª–æ—ó—Ç—å—Å—è –≥—ñ–ª–∫–∞ `main`. –©–æ–± –∑–º—ñ–Ω–∏—Ç–∏:

1. Railway Dashboard ‚Üí Settings ‚Üí Source
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—É –≥—ñ–ª–∫—É –≤ **Branch**
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏
